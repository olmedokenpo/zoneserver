from flask import Flask, jsonify, request
from flask_cors import CORS

app = Flask(__name__)
CORS(app, resources={r"/*": {"origins": "http://127.0.0.1:5500"}})  # Permitir solicitudes desde cualquier origen

# Área de ejemplo-1
bufferGeoJSON = {
    "type": "Feature",
    "geometry": {
        "type": "Polygon",
        "coordinates": [[
            [-2.667412995999939, 37.209045411000034],
            [-1.997562051999978, 37.209045411000034],
            [-1.997562051999978, 37.55778122000004],
            [-2.667412995999939, 37.55778122000004],
            [-2.667412995999939, 37.209045411000035]
        ]]
    },
    "properties": {}
}

#Fin Area de ejemplo-1

#Area de ejemplo-2: Gijon
bufferGeoJSONGijon = {
    "type": "Feature",
    "geometry": {
        "type": "Polygon",
        "coordinates": [[
            [-5.818185806,43.491039276],[-5.815144061,43.497398376],[-5.820180892,43.501178741],[-5.821115018,43.504005433],[-5.815765858,43.510780336],[-5.81193018,43.508930207],
            [-5.808505057,43.512660981],[-5.794723034,43.516906738],[-5.79351902,43.518474579],[-5.78371191,43.520183564],[-5.782557011,43.521976471],[-5.768208981,43.525341033],
            [-5.757983207,43.531959533],[-5.745638847,43.537830353],[-5.742643833,43.537570954],[-5.744977951,43.540729522],[-5.734907151,43.542987823],[-5.727828027,43.547649384],
            [-5.717589855,43.557266236],[-5.709836006,43.56880188],[-5.712082864,43.569278717],[-5.712082864,43.569583894],[-5.711804866,43.569583894],[-5.711804866,43.570137025],
            [-5.711248875,43.570137025],[-5.711248875,43.570415498],[-5.710694789,43.570415498],[-5.710694789,43.570693971],[-5.709582807,43.570693971],[-5.709582807,43.570972444],
            [-5.708748818,43.570972444],[-5.708748818,43.571250915],[-5.708195209,43.571250915],[-5.708195209,43.571529388],[-5.707639218,43.571529388],[-5.707639218,43.571804048],
            [-5.706251143,43.571804048],[-5.706251143,43.572082521],[-5.705139161,43.572082521],[-5.705139161,43.572360992],[-5.704305172,43.572360992],[-5.704305172,43.572082521],
            [-5.703960896,43.572082521],[-5.703195095,43.572082521],[-5.703195095,43.571804048],[-5.700695038,43.571830749],[-5.700695038,43.572082521],[-5.700417042,43.572082521],
            [-5.700138092,43.572082521],[-5.700138092,43.572360992],[-5.699860096,43.572360992],[-5.699860096,43.572639465],[-5.699584961,43.572639465],[-5.699584961,43.573192596],
            [-5.699306965,43.573192596],[-5.699306965,43.573471069],[-5.69902897,43.573471069],[-5.69902897,43.573905944],[-5.69902897,43.574028015],[-5.698750019,43.574028015],
            [-5.698750019,43.574268341],[-5.698750019,43.574584961],[-5.698472024,43.574634553],[-5.698472024,43.575138092],[-5.698194028,43.575138092],[-5.698194028,43.575695038],
            [-5.697638035,43.575695038],[-5.697638035,43.575416565],[-5.697360039,43.575416565],[-5.697360039,43.574859619],[-5.697083951,43.574859619],[-5.697083951,43.574584961],
            [-5.696805953,43.574584961],[-5.696805953,43.574306488],[-5.696527958,43.574306488],[-5.696527958,43.574028015],[-5.696249962,43.574028015],[-5.696249962,43.573192596],
            [-5.696805953,43.573192596],[-5.696805953,43.572917938],[-5.697083951,43.572917938],[-5.697083951,43.572360992],[-5.697360039,43.572360992],[-5.697360039,43.572082521],
            [-5.697638035,43.572082521],[-5.697638035,43.571804048],[-5.69791603,43.571804048],[-5.69791603,43.571529388],[-5.698472024,43.571529388],[-5.698472024,43.571250915],
            [-5.698750019,43.571250915],[-5.698750019,43.570693971],[-5.69902897,43.570693971],[-5.69902897,43.570415498],[-5.699306965,43.570415498],[-5.699306965,43.570137025],
            [-5.69902897,43.570137025],[-5.69902897,43.569862367],[-5.699306965,43.569862367],[-5.699306965,43.569026948],[-5.698472024,43.569026948],[-5.698472024,43.568748475],
            [-5.697083951,43.568748475],[-5.697083951,43.568195344],[-5.696805953,43.568195344],[-5.696805953,43.567916871],[-5.696527958,43.567916871],[-5.696527958,43.567638398],
            [-5.695693969,43.567638398],[-5.695693969,43.567916871],[-5.695137977,43.567916871],[-5.695137977,43.567638398],[-5.694859982,43.567638398],[-5.694859982,43.567440033],
            [-5.694859982,43.567359925],[-5.694583894,43.567359925],[-5.694583894,43.567081452],[-5.694305896,43.567081452],[-5.694305896,43.566940308],[-5.694305896,43.566806794],
            [-5.693749905,43.566806794],[-5.693749905,43.566528321],[-5.693193912,43.566528321],[-5.693193912,43.566806794],[-5.692359925,43.566806794],[-5.692359925,43.567081452],
            [-5.692083837,43.567081452],[-5.692083837,43.567226411],[-5.692083837,43.567359925],[-5.691805839,43.567359925],[-5.691805839,43.567638398],[-5.691527843,43.567638398],
            [-5.691527843,43.567916871],[-5.690971852,43.567916871],[-5.690971852,43.568195344],[-5.689861775,43.568195344],[-5.689861775,43.567916871],[-5.687362193,43.567916871],
            [-5.687362193,43.568195344],[-5.686526776,43.568195344],[-5.686526776,43.568473817],[-5.685970783,43.568473817],[-5.685970783,43.568748475],[-5.685139179,43.568748475],
            [-5.685139179,43.569026948],[-5.68430519,43.569026948],[-5.68430519,43.569305421],[-5.683471203,43.569305421],[-5.683471203,43.569583894],[-5.683195115,43.569583894],
            [-5.683195115,43.569305421],[-5.682917117,43.569305421],[-5.682917117,43.569179535],[-5.682917117,43.568748475],[-5.683749199,43.568748475],[-5.683749199,43.568473817],
            [-5.684027194,43.568473817],[-5.684027194,43.568195344],[-5.68430519,43.568195344],[-5.68430519,43.567638398],[-5.684027194,43.567638398],[-5.684027194,43.567436218],
            [-5.684027194,43.567359925],[-5.68430519,43.567359925],[-5.68430519,43.567085267],[-5.684583188,43.567081452],[-5.684583188,43.566528321],[-5.684861183,43.566528321],
            [-5.684861183,43.566249848],[-5.686248779,43.566249848],[-5.686248779,43.565971375],[-5.686806202,43.565971375],[-5.686806202,43.565692902],[-5.688192844,43.565692902],
            [-5.688192844,43.565418244],[-5.689027786,43.565418244],[-5.689027786,43.565139771],[-5.689583777,43.565139771],[-5.689583777,43.565418244],[-5.690417766,43.565418244],
            [-5.690417766,43.565139771],[-5.690971852,43.565139771],[-5.690971852,43.564861298],[-5.691527843,43.564861298],[-5.691527843,43.564582825],[-5.691805839,43.564582825],
            [-5.691805839,43.564304352],[-5.692083837,43.564304352],[-5.692083837,43.563751221],[-5.692359925,43.563751221],[-5.692361832,43.563472748],[-5.693268775,43.563472748],
            [-5.693471909,43.563472748],[-5.693471909,43.563751221],[-5.693822861,43.563751221],[-5.6940279,43.563751221],[-5.694053174,43.564025879],[-5.694305896,43.564029694],
            [-5.694305896,43.564304352],[-5.694583894,43.564304352],[-5.694583894,43.564582825],[-5.694859982,43.564582825],[-5.694859982,43.564861298],[-5.695137977,43.564861298],
            [-5.695137977,43.565139771],[-5.695415973,43.565139771],[-5.695415973,43.565418244],[-5.695693969,43.565418244],[-5.695693969,43.565692902],[-5.695971966,43.565692902],
            [-5.695971966,43.565971375],[-5.696249962,43.565971375],[-5.696249962,43.566249848],[-5.696527958,43.566249848],[-5.696527958,43.566528321],[-5.697083951,43.566528321],
            [-5.697083951,43.566806794],[-5.698750019,43.566806794],[-5.698750019,43.567081452],[-5.69902897,43.567085267],[-5.69902897,43.567359925],[-5.699584961,43.567359925],
            [-5.699584961,43.567085267],[-5.699860096,43.567081452],[-5.699860096,43.566249848],[-5.699584961,43.566249848],[-5.699584961,43.565139771],[-5.699306965,43.565139771],
            [-5.699306965,43.564861298],[-5.698013782,43.564861298],[-5.69791603,43.564861298],[-5.69791603,43.564582825],[-5.697360039,43.564582825],[-5.697360039,43.564304352],
            [-5.697083951,43.564304352],[-5.697083951,43.564029694],[-5.69791603,43.564025879],[-5.69791603,43.563751221],[-5.698750019,43.563751221],[-5.698750019,43.563472748],
            [-5.699584961,43.563472748],[-5.699584961,43.563194275],[-5.700138092,43.563194275],[-5.700138092,43.562637329],[-5.699860096,43.562637329],[-5.699860096,43.562362671],
            [-5.699584961,43.562362671],[-5.699584961,43.561805725],[-5.69902897,43.561805725],[-5.69902897,43.561527252],[-5.698750019,43.561527252],[-5.698750019,43.561248779],
            [-5.698472024,43.561248779],[-5.698472024,43.562362671],[-5.69791603,43.562362671],[-5.69791603,43.562084198],[-5.697360039,43.562084198],[-5.697360039,43.561805725],
            [-5.696805953,43.561805725],[-5.696805953,43.562084198],[-5.695693969,43.562084198],[-5.695693969,43.561805725],[-5.695415973,43.561805725],[-5.695415973,43.561248779],
            [-5.696527958,43.561248779],[-5.696527958,43.560974121],[-5.696805953,43.560974121],[-5.696805953,43.560695648],[-5.697083951,43.560695648],[-5.697083951,43.560417175],
            [-5.697638035,43.560417175],[-5.697638035,43.560138704],[-5.69791603,43.560138704],[-5.69791603,43.559860231],[-5.698194028,43.559860231],[-5.698194028,43.559581758],
            [-5.698472024,43.559581758],[-5.698472024,43.558853149],[-5.698472024,43.558750154],[-5.698194028,43.558750154],[-5.698194028,43.558525086],[-5.69791603,43.558471681],
            [-5.69791603,43.558193208],[-5.697638035,43.558193208],[-5.697638035,43.55791855],[-5.696249962,43.55791855],[-5.696249962,43.558193208],[-5.695971966,43.558193208],
            [-5.695971966,43.55791855],[-5.695693969,43.557914735],[-5.695693969,43.557640077],[-5.695415973,43.557640077],[-5.695415973,43.557361604],[-5.694859982,43.557361604],
            [-5.694859982,43.557083131],[-5.694583894,43.557083131],[-5.694583894,43.556804658],[-5.6940279,43.556804658],[-5.6940279,43.556526184],[-5.693749905,43.556526184],
            [-5.693749905,43.556251527],[-5.692915916,43.556251527],[-5.692915916,43.555694581],[-5.692361832,43.555694581],[-5.692361832,43.555137634],[-5.69263792,43.555137634],
            [-5.69263792,43.554862977],[-5.693193912,43.554862977],[-5.693193912,43.555137634],[-5.694305896,43.555137634],[-5.694305896,43.555416107],[-5.694583894,43.555416107],
            [-5.694583894,43.555694581],[-5.695693969,43.555694581],[-5.695693969,43.555416107],[-5.695971966,43.555416107],[-5.695971966,43.554862977],[-5.696249962,43.554862977],
            [-5.696249962,43.554027557],[-5.696527958,43.554027557],[-5.696527958,43.553470611],[-5.696805953,43.553470611],[-5.696805953,43.553195954],[-5.697083951,43.553195954],
            [-5.697083951,43.552639007],[-5.696805953,43.552639007],[-5.696805953,43.552082061],[-5.696527958,43.552082061],[-5.696527958,43.551250457],[-5.696249962,43.551250457],
            [-5.696249962,43.550971984],[-5.695971966,43.550971984],[-5.695971966,43.550693511],[-5.695137977,43.550693511],[-5.695137977,43.550971984],[-5.694859982,43.550971984],
            [-5.694859982,43.551250457],[-5.694305896,43.551250457],[-5.694305896,43.55152893],[-5.693749905,43.55152893],[-5.693749905,43.551807404],[-5.692915916,43.551807404],
            [-5.692915916,43.552082061],[-5.692519187,43.552082061],[-5.691805839,43.552082061],[-5.691805839,43.552360534],[-5.691249848,43.552360534],[-5.691249848,43.552639007],
            [-5.690971852,43.552639007],[-5.690971852,43.55291748],[-5.690417766,43.55291748],[-5.690417766,43.553195954],[-5.690139771,43.553195954],[-5.690139771,43.553470611],
            [-5.689861775,43.553470611],[-5.689861775,43.554027557],[-5.690139771,43.554027557],[-5.690139771,43.554306031],[-5.690417766,43.554306031],[-5.690417766,43.554584504],
            [-5.690693854,43.554584504],[-5.690693854,43.555137634],[-5.690139771,43.555137634],[-5.690139771,43.555416107],[-5.689861775,43.555416107],[-5.689861775,43.555694581],
            [-5.689583777,43.555694581],[-5.689583777,43.555973054],[-5.689027786,43.555973054],[-5.689027786,43.556251527],[-5.688749791,43.556251527],[-5.688749791,43.556804658],
            [-5.688471795,43.556804658],[-5.688471795,43.557083131],[-5.688192844,43.557083131],[-5.688192844,43.557361604],[-5.687918187,43.557361604],[-5.687918187,43.557640077],
            [-5.686806202,43.557640077],[-5.686806202,43.557361604],[-5.686526776,43.557361604],[-5.686526776,43.557083131],[-5.685970783,43.557083131],[-5.685970783,43.556804658],
            [-5.685418129,43.556804658],[-5.685418129,43.557083131],[-5.685139179,43.557083131],[-5.685139179,43.557640077],[-5.685418129,43.557640077],[-5.685418129,43.55791855],
            [-5.685692787,43.55791855],[-5.685692787,43.558193208],[-5.686248779,43.558193208],[-5.686248779,43.558750154],[-5.686526776,43.558750154],[-5.686526776,43.5593071],
            [-5.686806202,43.5593071],[-5.686806202,43.559860231],[-5.686526776,43.559860231],[-5.686526776,43.560138704],[-5.686248779,43.560138704],[-5.686248779,43.560417175],
            [-5.685418129,43.560417175],[-5.685418129,43.560138704],[-5.685139179,43.560138704],[-5.685139179,43.559860231],[-5.684861183,43.559860231],[-5.684861183,43.559581758],
            [-5.684583188,43.559581758],[-5.684583188,43.5593071],[-5.68430519,43.5593071],[-5.68430519,43.559028627],[-5.684027194,43.559028627],[-5.684027194,43.558750154],
            [-5.683471203,43.558750154],[-5.683471203,43.557083131],[-5.683749199,43.557083131],[-5.683749199,43.556526184],[-5.68430519,43.556526184],[-5.68430519,43.556251527],
            [-5.684583188,43.556251527],[-5.684583188,43.555973054],[-5.684861183,43.555973054],[-5.684861183,43.555694581],[-5.685139179,43.555694581],[-5.685139179,43.555416107],
            [-5.685552121,43.555416107],[-5.685692787,43.555416107],[-5.685692787,43.555267333],[-5.685696125,43.554584504],[-5.686248779,43.554584504],[-5.686248779,43.554306031],
            [-5.686526776,43.554306031],[-5.686526776,43.554027557],[-5.686806202,43.554027557],[-5.686806202,43.553749084],[-5.687140942,43.553749084],[-5.687362193,43.553749084],
            [-5.687362193,43.553516388],[-5.687918187,43.553470611],[-5.687918187,43.553195954],[-5.688192844,43.553195954],[-5.688192844,43.552642823],[-5.688192844,43.552360534],
            [-5.688471795,43.552360534],[-5.688471795,43.552082061],[-5.688749791,43.552082061],[-5.688749791,43.551807404],[-5.689027786,43.551807404],[-5.689027786,43.551525115],
            [-5.689027786,43.551250457],[-5.689314842,43.551250457],[-5.690417766,43.551250457],[-5.690417766,43.550971984],[-5.690693854,43.550971984],[-5.690693854,43.550693511],
            [-5.690971852,43.550693511],[-5.690971852,43.549861907],[-5.691249848,43.549861907],[-5.691249848,43.549583434],[-5.691527843,43.549583434],[-5.691527843,43.549129486],
            [-5.691527843,43.54902649],[-5.691633225,43.54902649],[-5.691805839,43.54902649],[-5.691805839,43.548862458],[-5.691805839,43.54875183],[-5.691919804,43.54875183],
            [-5.692359925,43.54875183],[-5.692361832,43.548473357],[-5.69263792,43.548473357],[-5.69263792,43.548194886],[-5.692915916,43.548194886],[-5.692915916,43.547794343],
            [-5.692915916,43.54763794],[-5.693079948,43.54763794],[-5.693193912,43.54763794],[-5.693193912,43.547527313],[-5.693193912,43.547359467],[-5.693371772,43.547359467],
            [-5.693471909,43.547359467],[-5.693471909,43.547084809],[-5.693749905,43.547084809],[-5.693749905,43.546527863],[-5.6940279,43.546527863],[-5.6940279,43.545970917],
            [-5.694305896,43.545970917],[-5.694305896,43.545696259],[-5.694583894,43.545696259],[-5.694583894,43.545307159],[-5.694583894,43.545139313],[-5.694305896,43.545139313],
            [-5.694305896,43.54486084],[-5.6940279,43.54486084],[-5.6940279,43.544582367],[-5.693749905,43.544582367],[-5.693749905,43.544303894],[-5.693471909,43.544303894],
            [-5.693471909,43.544029236],[-5.693193912,43.544029236],[-5.693193912,43.543750763],[-5.692915916,43.543750763],[-5.692915916,43.54347229],[-5.692361832,43.54347229],
            [-5.692359925,43.543193817],[-5.691805839,43.543193817],[-5.691805839,43.54347229],[-5.691527843,43.54347229],[-5.691527843,43.543750763],[-5.688316823,43.543750763],
            [-5.687640191,43.543750763],[-5.687640191,43.544029236],[-5.687362193,43.544094087],[-5.687362193,43.544303894],[-5.686806202,43.544303894],[-5.686806202,43.544582367],
            [-5.684027194,43.544582367],[-5.684027194,43.54486084],[-5.683195115,43.54486084],[-5.683195115,43.545139313],[-5.681249142,43.545139313],[-5.681249142,43.54486084],
            [-5.681141854,43.54486084],[-5.68041706,43.54486084],[-5.68041706,43.542915344],[-5.680695058,43.542915344],[-5.680695058,43.542362213],[-5.68041706,43.542362213],
            [-5.68041706,43.54208374],[-5.679861069,43.54208374],[-5.679861069,43.541805267],[-5.679305076,43.541805267],[-5.679305076,43.542079925],[-5.679305076,43.542362213],
            [-5.678750992,43.542362213],[-5.678750992,43.542640686],[-5.677917003,43.542640686],[-5.677917003,43.542362213],[-5.677655221,43.542362213],[-5.677639007,43.54208374],
            [-5.677361012,43.54208374],[-5.677361012,43.541805267],[-5.67652893,43.541805267],[-5.67652893,43.541526794],[-5.675972939,43.541526794],[-5.675972939,43.541248321],
            [-5.672081947,43.541248321],[-5.672081947,43.541526794],[-5.670137883,43.541526794],[-5.670137883,43.541805267],[-5.669861793,43.541805267],[-5.669861793,43.542438507],
            [-5.669861793,43.542915344],[-5.669490813,43.542915344],[-5.669305802,43.542915344],[-5.669305802,43.543193817],[-5.669115066,43.543193817],[-5.669027806,43.543193817],
            [-5.669027806,43.54347229],[-5.668749809,43.54347229],[-5.668749809,43.544582367],[-5.668471813,43.544582367],[-5.668471813,43.54486084],[-5.667637824,43.54486084],
            [-5.667637824,43.545139313],[-5.667362213,43.545139313],[-5.667362213,43.545696259],[-5.667637824,43.545696259],[-5.667637824,43.545970917],[-5.668471813,43.545970917],
            [-5.668471813,43.54624939],[-5.668749809,43.54624939],[-5.668749809,43.546527863],[-5.669861793,43.546527863],[-5.669861793,43.547084809],[-5.669583797,43.547084809],
            [-5.669583797,43.54763794],[-5.668471813,43.54763794],[-5.668471813,43.547916413],[-5.667637824,43.547916413],[-5.667637824,43.548194886],[-5.667084218,43.548194886],
            [-5.667084218,43.548473357],[-5.66680622,43.548473357],[-5.66680622,43.54875183],[-5.666528224,43.54875183],[-5.666528224,43.54902649],[-5.666250229,43.54902649],
            [-5.666250229,43.549304961],[-5.665972233,43.549304961],[-5.665972233,43.549861907],[-5.665694238,43.549861907],[-5.665694238,43.550415038],[-5.665415765,43.550415038],
            [-5.665415765,43.550693511],[-5.664584161,43.550693511],[-5.664584161,43.550415038],[-5.664306163,43.550415038],[-5.664306163,43.55014038],[-5.664028167,43.55014038],
            [-5.664028167,43.549861907],[-5.662362099,43.549861907],[-5.662362099,43.549583434],[-5.661250114,43.549583434],[-5.661250114,43.549304961],[-5.660418033,43.549304961],
            [-5.660418033,43.54902649],[-5.660140037,43.54902649],[-5.660140037,43.54875183],[-5.659862042,43.54875183],[-5.659862042,43.548473357],[-5.659584046,43.548473357],
            [-5.659584046,43.547916413],[-5.659305096,43.547916413],[-5.659305096,43.546806336],[-5.659584046,43.546806336],[-5.659584046,43.546527863],[-5.659862042,43.546527863],
            [-5.659862042,43.545970917],[-5.659584046,43.545970917],[-5.659584046,43.545696259],[-5.659862042,43.545696259],[-5.659862042,43.545417786],[-5.660140037,43.545417786],
            [-5.660140037,43.545139313],[-5.660535813,43.545139313],[-5.660696029,43.545139313],[-5.660696029,43.54486084],[-5.660972119,43.54486084],[-5.660972119,43.544303894],
            [-5.660696029,43.544303894],[-5.660696029,43.544029236],[-5.660418033,43.544029236],[-5.660418033,43.54347229],[-5.659862042,43.54347229],[-5.659862042,43.543193817],
            [-5.659305096,43.543193817],[-5.659305096,43.542915344],[-5.658749105,43.542915344],[-5.658749105,43.542640686],[-5.658195972,43.542640686],[-5.658195972,43.542362213],
            [-5.657917023,43.542362213],[-5.657917023,43.54208374],[-5.656805039,43.54208374],[-5.656805039,43.541805267],[-5.656249045,43.541805267],[-5.656249045,43.541526794],
            [-5.655972957,43.541526794],[-5.65597105,43.541248321],[-5.653194904,43.541248321],[-5.653194904,43.540973663],[-5.649582863,43.540973663],[-5.649582863,43.541248321],
            [-5.649028779,43.541248321],[-5.649028779,43.540973663],[-5.647081853,43.540973663],[-5.647081853,43.54069519],[-5.646807193,43.54069519],[-5.646807193,43.540416717],
            [-5.646251202,43.540416717],[-5.646251202,43.540138244],[-5.645415783,43.540138244],[-5.645415783,43.540416717],[-5.644859791,43.540416717],[-5.644859791,43.54069519],
            [-5.644581796,43.54069519],[-5.644581796,43.541248321],[-5.644859791,43.541248321],[-5.644859791,43.541526794],[-5.645415783,43.541526794],[-5.645415783,43.541805267],
            [-5.645137787,43.541805267],[-5.645137787,43.542640686],[-5.645415783,43.542640686],[-5.645415783,43.542915344],[-5.645973206,43.542915344],[-5.645973206,43.543193817],
            [-5.646251202,43.543193817],[-5.646251202,43.54347229],[-5.646822929,43.54347229],[-5.647081853,43.54347229],[-5.647081853,43.543750763],[-5.647638797,43.543750763],
            [-5.647638797,43.544029236],[-5.647916795,43.544029236],[-5.647916795,43.544303894],[-5.647638797,43.544303894],[-5.647638797,43.545139313],[-5.647916795,43.545139313],
            [-5.647916795,43.545417786],[-5.647360801,43.545417786],[-5.647360801,43.545696259],[-5.646529197,43.545696259],[-5.646529197,43.545970917],[-5.645973206,43.545970917],
            [-5.645973206,43.54624939],[-5.645415783,43.54624939],[-5.645415783,43.546527863],[-5.644028187,43.546527863],[-5.644028187,43.546806336],[-5.643750192,43.546806336],
            [-5.643750192,43.547359467],[-5.644028187,43.547359467],[-5.644028187,43.54763794],[-5.644306183,43.54763794],[-5.644306183,43.547916413],[-5.644028187,43.547916413],
            [-5.644028187,43.54875183],[-5.643750192,43.54875183],[-5.643750192,43.54902649],[-5.643194198,43.54902649],[-5.643194198,43.549304961],[-5.642916203,43.549304961],
            [-5.642916203,43.549583434],[-5.641250133,43.549583434],[-5.641250133,43.549304961],[-5.640972137,43.549304961],[-5.640972137,43.54902649],[-5.640694141,43.54902649],
            [-5.640694141,43.54875183],[-5.639306069,43.54875183],[-5.639306069,43.54902649],[-5.639028073,43.54902649],[-5.639028073,43.549304961],[-5.638750075,43.549304961],
            [-5.638750075,43.55008316],[-5.638750075,43.550415038],[-5.638886929,43.550415038],[-5.639028073,43.550415038],[-5.639028073,43.550693511],[-5.639306069,43.550693511],
            [-5.639306069,43.551250457],[-5.639584064,43.551250457],[-5.639584064,43.551807404],[-5.639306069,43.551807404],[-5.639306069,43.552082061],[-5.639028073,43.552082061],
            [-5.639028073,43.552360534],[-5.63847208,43.552360534],[-5.63847208,43.552639007],[-5.635694027,43.552639007],[-5.635694027,43.552360534],[-5.635416031,43.552360534],
            [-5.635416031,43.552082061],[-5.634305954,43.552082061],[-5.634305954,43.551807404],[-5.634027959,43.551807404],[-5.634027959,43.55152893],[-5.633749961,43.55152893],
            [-5.633749961,43.551399232],[-5.633749961,43.551250457],[-5.633154868,43.551250457],[-5.63208294,43.551250457],[-5.63208294,43.55098343],[-5.630694865,43.550971984],
            [-5.630694865,43.550693511],[-5.629304885,43.550693511],[-5.629304885,43.550415038],[-5.627916813,43.550415038],[-5.627916813,43.550693511],[-5.627638817,43.550693511],
            [-5.627638817,43.550971984],[-5.627082826,43.550971984],[-5.627082826,43.551250457],[-5.625973224,43.551250457],[-5.625973224,43.55152893],[-5.624725818,43.551578523],
            [-5.624582767,43.551582338],[-5.624582767,43.551807404],[-5.62397194,43.551807404],[-5.623751163,43.551807404],[-5.623751163,43.552082061],[-5.623473167,43.552082061],
            [-5.623473167,43.552360534],[-5.623195171,43.552360534],[-5.623195171,43.552639007],[-5.623081208,43.552639007],[-5.622917176,43.552639007],[-5.622917176,43.55291748],
            [-5.62263918,43.55291748],[-5.62263918,43.553470611],[-5.622361182,43.553470611],[-5.622361182,43.553749084],[-5.622083187,43.553749084],[-5.622083187,43.554306031],
            [-5.621805191,43.554306031],[-5.621805191,43.554584504],[-5.621529103,43.554584504],[-5.621529103,43.556804658],[-5.621251105,43.556819916],[-5.621251105,43.557083131],
            [-5.62097311,43.557083131],[-5.62097311,43.557361604],[-5.620417118,43.557361604],[-5.620417118,43.557640077],[-5.619860172,43.557640077],[-5.619860172,43.557914735],
            [-5.617638111,43.557914735],[-5.617638111,43.557640077],[-5.616696834,43.557640077],[-5.616528034,43.557640077],[-5.616528034,43.557418824],[-5.61542797,43.557361604],
            [-5.615416049,43.557083131],[-5.61499691,43.557083131],[-5.613749981,43.557083131],[-5.613749981,43.556804658],[-5.613193988,43.556804658],[-5.613193988,43.556526184],
            [-5.612915992,43.556526184],[-5.612915992,43.556251527],[-5.612637997,43.556251527],[-5.612637997,43.5549469],[-5.612637997,43.554862977],[-5.612360001,43.554862977],
            [-5.612360001,43.554519653],[-5.612360001,43.554027557],[-5.612083913,43.554027557],[-5.612083913,43.553470611],[-5.611805915,43.553470611],[-5.611805915,43.553195954],
            [-5.61152792,43.553195954],[-5.61152792,43.55291748],[-5.611316205,43.55291748],[-5.611301899,43.552806855],[-5.611249924,43.552360534],[-5.610971928,43.552360534],
            [-5.610971928,43.552082061],[-5.610753058,43.55204773],[-5.610693931,43.551948548],[-5.610693931,43.551807404],[-5.610971928,43.551807404],[-5.610971928,43.550971984],
            [-5.610693931,43.550971984],[-5.610693931,43.550693511],[-5.610139847,43.550693511],[-5.610139847,43.550415038],[-5.609685898,43.550415038],[-5.609583854,43.550415038],
            [-5.609583854,43.550254823],[-5.609583854,43.55014038],[-5.609305858,43.55014038],[-5.609305858,43.549861907],[-5.606248855,43.549861907],[-5.606248855,43.549583434],
            [-5.605692864,43.549583434],[-5.605692864,43.549388885],[-5.605692864,43.549304961],[-5.60514021,43.54933548],[-5.60514021,43.549583434],[-5.604582787,43.549583434],
            [-5.604582787,43.549304961],[-5.600417137,43.549304961],[-5.600417137,43.54902649],[-5.59958315,43.54902649],[-5.59958315,43.548793792],[-5.599144937,43.548759461],
            [-5.599027156,43.54875183],[-5.599027156,43.548473357],[-5.598473073,43.548473357],[-5.598473073,43.548194886],[-5.598195075,43.548194886],[-5.598195075,43.547916413],
            [-5.597639084,43.547916413],[-5.597639084,43.54763794],[-5.596527099,43.54763794],[-5.596527099,43.547916413],[-5.595417022,43.547916413],[-5.595417022,43.548194886],
            [-5.594583035,43.548194886],[-5.594583035,43.548305512],[-5.594583035,43.548473357],[-5.593750954,43.548473357],[-5.593750954,43.54875183],[-5.593472958,43.54875183],
            [-5.593472958,43.548473357],[-5.593194961,43.548473357],[-5.593194961,43.548194886],[-5.592360019,43.548194886],[-5.592360019,43.548091889],[-5.592360019,43.547916413],
            [-5.591528892,43.547916413],[-5.591528892,43.54763794],[-5.591244221,43.54763794],[-5.585818767,43.539218903],[-5.583603859,43.538314819],[-5.587172986,43.53497696],
            [-5.586826802,43.532653808],[-5.573967934,43.525650025],[-5.574911118,43.517864228],[-5.57178688,43.516838075],[-5.562767982,43.501674652],[-5.565492153,43.500862121],
            [-5.57041502,43.50259018],[-5.574068069,43.49458313],[-5.584832191,43.486003875],[-5.583345889,43.471153259],[-5.58540392,43.443180083],[-5.597408771,43.443302154],
            [-5.605168819,43.441844941],[-5.612244128,43.443431855],[-5.624003887,43.44304657],[-5.634943962,43.450004578],[-5.640065194,43.45036316],[-5.645206928,43.454944612],
            [-5.650475979,43.453590393],[-5.654685974,43.455772401],[-5.661182881,43.45484543],[-5.663009167,43.456161499],[-5.673235894,43.4562912],[-5.682356834,43.454032899],
            [-5.697783947,43.466033936],[-5.704885959,43.458698273],[-5.717451096,43.451145172],[-5.720427037,43.456329347],[-5.725667,43.457393647],[-5.729742049,43.453742981],
            [-5.730147838,43.449878692],[-5.733481884,43.448474884],[-5.741078853,43.44946289],[-5.747494221,43.447849274],[-5.75643301,43.451496125],[-5.758609772,43.455883026],
            [-5.765804769,43.461338044],[-5.779550075,43.463253021],[-5.787609101,43.472068787],[-5.787048817,43.476028443],[-5.79021883,43.475074768],[-5.797542096,43.480247498],
            [-5.801156998,43.480041503],[-5.803647995,43.482582092],[-5.803479194,43.485115051],[-5.811090946,43.485782624],[-5.811029911,43.490329743],[-5.818185806,43.491039276]
        ]]
    },
    "properties": {}
}
#Fin Area de ejemplo-2: Gijon

# Ruta para obtener el área de ejemplo
@app.route('/areas', methods=['GET'])
def get_areas():
    return jsonify(bufferGeoJSON)

# Ruta para manejar clics en el mapa
@app.route('/clic', methods=['POST'])
def handle_click():
    data = request.json  # Obtener los datos enviados en el cuerpo de la solicitud
    latlng = data.get('latlng')  # Obtener las coordenadas del clic
    print("Clic en el mapa en las coordenadas:", latlng)

    # Aquí puedes realizar cualquier procesamiento adicional necesario con las coordenadas

    # Por ejemplo, podrías guardar las coordenadas en una base de datos
    # O podrías realizar algún cálculo basado en las coordenadas

    # Luego, puedes enviar una respuesta al frontend si es necesario
    # Por ejemplo, puedes enviar un mensaje de confirmación
    ##OJO
    
    ##Fin OJO
    response_data = {'message': 'Coordenadas recibidas correctamente'}
    #return jsonify(response_data), 200
    return jsonify(bufferGeoJSONGijon)

if __name__ == '__main__':
    app.run(debug=True)
